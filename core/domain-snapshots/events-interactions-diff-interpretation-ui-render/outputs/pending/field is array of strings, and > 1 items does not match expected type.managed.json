{
  "diffs" : [
    {
      "diff" : {
        "UnmatchedResponseBodyShape" : {
          "interactionTrail" : {
            "path" : [
              {
                "ResponseBody" : {
                  "contentType" : "application/json",
                  "statusCode" : 200
                }
              }
            ]
          },
          "requestsTrail" : {
            "SpecResponseBody" : {
              "responseId" : "response_0"
            }
          },
          "shapeDiffResult" : {
            "UnmatchedShape" : {
              "jsonTrail" : {
                "path" : [
                  {
                    "JsonObjectKey" : {
                      "key" : "cities"
                    }
                  },
                  {
                    "JsonArrayItem" : {
                      "index" : 1
                    }
                  }
                ]
              },
              "shapeTrail" : {
                "rootShapeId" : "shape_7",
                "path" : [
                  {
                    "ObjectFieldTrail" : {
                      "fieldId" : "field_1",
                      "fieldShapeId" : "shape_4"
                    }
                  },
                  {
                    "ListItemTrail" : {
                      "listShapeId" : "shape_4",
                      "itemShapeId" : "shape_3"
                    }
                  }
                ]
              }
            }
          }
        }
      },
      "title" : "shape at index 1 in the 200 Response body was not a string",
      "suggestions" : [
        {
          "title" : "Allow shape at index 1 to be either a string or Number",
          "commandsJson" : [
            {
              "AddShape" : {
                "shapeId" : "shape_5001",
                "baseShapeId" : "$number",
                "name" : ""
              }
            },
            {
              "AddShape" : {
                "shapeId" : "shape_5000",
                "baseShapeId" : "$oneOf",
                "name" : ""
              }
            },
            {
              "AddShapeParameter" : {
                "shapeParameterId" : "shape-parameter_5000",
                "shapeId" : "shape_5000",
                "name" : ""
              }
            },
            {
              "AddShapeParameter" : {
                "shapeParameterId" : "shape-parameter_5001",
                "shapeId" : "shape_5000",
                "name" : ""
              }
            },
            {
              "SetParameterShape" : {
                "shapeDescriptor" : {
                  "ProviderInShape" : {
                    "shapeId" : "shape_5000",
                    "providerDescriptor" : {
                      "ShapeProvider" : {
                        "shapeId" : "shape_5001"
                      }
                    },
                    "consumingParameterId" : "shape-parameter_5001"
                  }
                }
              }
            },
            {
              "SetParameterShape" : {
                "shapeDescriptor" : {
                  "ProviderInShape" : {
                    "shapeId" : "shape_5000",
                    "providerDescriptor" : {
                      "ShapeProvider" : {
                        "shapeId" : "shape_3"
                      }
                    },
                    "consumingParameterId" : "shape-parameter_5000"
                  }
                }
              }
            },
            {
              "SetParameterShape" : {
                "shapeDescriptor" : {
                  "ProviderInShape" : {
                    "shapeId" : "shape_4",
                    "providerDescriptor" : {
                      "ShapeProvider" : {
                        "shapeId" : "shape_5000"
                      }
                    },
                    "consumingParameterId" : "$listItem"
                  }
                }
              }
            }
          ]
        },
        {
          "title" : "Change shape to Number",
          "commandsJson" : [
            {
              "AddShape" : {
                "shapeId" : "shape_5002",
                "baseShapeId" : "$number",
                "name" : ""
              }
            },
            {
              "SetParameterShape" : {
                "shapeDescriptor" : {
                  "ProviderInShape" : {
                    "shapeId" : "shape_4",
                    "providerDescriptor" : {
                      "ShapeProvider" : {
                        "shapeId" : "shape_5002"
                      }
                    },
                    "consumingParameterId" : "$listItem"
                  }
                }
              }
            }
          ]
        }
      ],
      "preview" : [
        "Vector((List(),ExampleObject(List(),Some(shape_7),List(List(JsonObjectKey(age)), List(JsonObjectKey(cities)), List(JsonObjectKey(firstName)), List(JsonObjectKey(lastName))),List(),List(),Set())), (List(JsonObjectKey(age)),ExamplePrimitive(List(JsonObjectKey(age)),$number,Some(shape_1),26,Set())), (List(JsonObjectKey(cities)),ExampleArray(List(JsonObjectKey(cities)),Some(shape_4),Some(shape_3),Vector(List(JsonObjectKey(cities), JsonArrayItem(0)), List(JsonObjectKey(cities), JsonArrayItem(1)), List(JsonObjectKey(cities), JsonArrayItem(2)), List(JsonObjectKey(cities), JsonArrayItem(3)), List(JsonObjectKey(cities), JsonArrayItem(4))),Set())), (List(JsonObjectKey(cities), JsonArrayItem(0)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(0)),$string,Some(shape_3),\"San Fransisco\",Set())), (List(JsonObjectKey(cities), JsonArrayItem(1)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(1)),$number,None,17584,Set(UnmatchedShape(List(JsonObjectKey(cities), JsonArrayItem(1)),ShapeTrail(shape_7,List(ObjectFieldTrail(field_1,shape_4), ListItemTrail(shape_4,shape_3))))))), (List(JsonObjectKey(cities), JsonArrayItem(2)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(2)),$string,Some(shape_3),\"Boston\",Set())), (List(JsonObjectKey(cities), JsonArrayItem(3)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(3)),$number,None,16573,Set())), (List(JsonObjectKey(cities), JsonArrayItem(4)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(4)),$string,Some(shape_3),\"Chicago\",Set())), (List(JsonObjectKey(firstName)),ExamplePrimitive(List(JsonObjectKey(firstName)),$string,Some(shape_5),\"Aidan\",Set())), (List(JsonObjectKey(lastName)),ExamplePrimitive(List(JsonObjectKey(lastName)),$string,Some(shape_6),\"C\",Set())))",
        "Vector((List(JsonObjectKey(age)),KnownExampleField(List(JsonObjectKey(age)),age,field_0,shape_1,26,Set())), (List(JsonObjectKey(cities)),KnownExampleField(List(JsonObjectKey(cities)),cities,field_1,shape_4,[\n  \"San Fransisco\",\n  17584,\n  \"Boston\",\n  16573,\n  \"Chicago\"\n],Set())), (List(JsonObjectKey(firstName)),KnownExampleField(List(JsonObjectKey(firstName)),firstName,field_2,shape_5,\"Aidan\",Set())), (List(JsonObjectKey(lastName)),KnownExampleField(List(JsonObjectKey(lastName)),lastName,field_3,shape_6,\"C\",Set())))",
        "Vector((List(JsonObjectKey(cities), JsonArrayItem(0)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(0)),0,\"San Fransisco\",Set())), (List(JsonObjectKey(cities), JsonArrayItem(1)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(1)),1,17584,Set(UnmatchedShape(List(JsonObjectKey(cities), JsonArrayItem(1)),ShapeTrail(shape_7,List(ObjectFieldTrail(field_1,shape_4), ListItemTrail(shape_4,shape_3))))))), (List(JsonObjectKey(cities), JsonArrayItem(2)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(2)),2,\"Boston\",Set())), (List(JsonObjectKey(cities), JsonArrayItem(3)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(3)),3,16573,Set())), (List(JsonObjectKey(cities), JsonArrayItem(4)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(4)),4,\"Chicago\",Set())))",
        "Vector((shape_1,SpecPrimitive(shape_1,$number,RenderName(List(NameComponent(Number,NumberColor,,None,None))),Set())), (shape_3,SpecPrimitive(shape_3,$string,RenderName(List(NameComponent(String,StringColor,,None,None))),Set(UnmatchedShape(List(JsonObjectKey(cities), JsonArrayItem(1)),ShapeTrail(shape_7,List(ObjectFieldTrail(field_1,shape_4), ListItemTrail(shape_4,shape_3))))))), (shape_4,SpecArray(shape_4,shape_3,RenderName(List(NameComponent(List of ,ListColor,,Some(shape_3),Some(shape_3)))),Set(UnmatchedShape(List(JsonObjectKey(cities), JsonArrayItem(1)),ShapeTrail(shape_7,List(ObjectFieldTrail(field_1,shape_4), ListItemTrail(shape_4,shape_3))))))), (shape_5,SpecPrimitive(shape_5,$string,RenderName(List(NameComponent(String,StringColor,,None,None))),Set())), (shape_6,SpecPrimitive(shape_6,$string,RenderName(List(NameComponent(String,StringColor,,None,None))),Set())), (shape_7,SpecObject(shape_7,List(SpecField(age,field_0,shape_1,Set()), SpecField(cities,field_1,shape_4,Set()), SpecField(firstName,field_2,shape_5,Set()), SpecField(lastName,field_3,shape_6,Set())),Set())))"
      ]
    },
    {
      "diff" : {
        "UnmatchedResponseBodyShape" : {
          "interactionTrail" : {
            "path" : [
              {
                "ResponseBody" : {
                  "contentType" : "application/json",
                  "statusCode" : 200
                }
              }
            ]
          },
          "requestsTrail" : {
            "SpecResponseBody" : {
              "responseId" : "response_0"
            }
          },
          "shapeDiffResult" : {
            "UnmatchedShape" : {
              "jsonTrail" : {
                "path" : [
                  {
                    "JsonObjectKey" : {
                      "key" : "cities"
                    }
                  },
                  {
                    "JsonArrayItem" : {
                      "index" : 3
                    }
                  }
                ]
              },
              "shapeTrail" : {
                "rootShapeId" : "shape_7",
                "path" : [
                  {
                    "ObjectFieldTrail" : {
                      "fieldId" : "field_1",
                      "fieldShapeId" : "shape_4"
                    }
                  },
                  {
                    "ListItemTrail" : {
                      "listShapeId" : "shape_4",
                      "itemShapeId" : "shape_3"
                    }
                  }
                ]
              }
            }
          }
        }
      },
      "title" : "shape at index 3 in the 200 Response body was not a string",
      "suggestions" : [
        {
          "title" : "Allow shape at index 3 to be either a string or Number",
          "commandsJson" : [
            {
              "AddShape" : {
                "shapeId" : "shape_5004",
                "baseShapeId" : "$number",
                "name" : ""
              }
            },
            {
              "AddShape" : {
                "shapeId" : "shape_5003",
                "baseShapeId" : "$oneOf",
                "name" : ""
              }
            },
            {
              "AddShapeParameter" : {
                "shapeParameterId" : "shape-parameter_5002",
                "shapeId" : "shape_5003",
                "name" : ""
              }
            },
            {
              "AddShapeParameter" : {
                "shapeParameterId" : "shape-parameter_5003",
                "shapeId" : "shape_5003",
                "name" : ""
              }
            },
            {
              "SetParameterShape" : {
                "shapeDescriptor" : {
                  "ProviderInShape" : {
                    "shapeId" : "shape_5003",
                    "providerDescriptor" : {
                      "ShapeProvider" : {
                        "shapeId" : "shape_5004"
                      }
                    },
                    "consumingParameterId" : "shape-parameter_5003"
                  }
                }
              }
            },
            {
              "SetParameterShape" : {
                "shapeDescriptor" : {
                  "ProviderInShape" : {
                    "shapeId" : "shape_5003",
                    "providerDescriptor" : {
                      "ShapeProvider" : {
                        "shapeId" : "shape_3"
                      }
                    },
                    "consumingParameterId" : "shape-parameter_5002"
                  }
                }
              }
            },
            {
              "SetParameterShape" : {
                "shapeDescriptor" : {
                  "ProviderInShape" : {
                    "shapeId" : "shape_4",
                    "providerDescriptor" : {
                      "ShapeProvider" : {
                        "shapeId" : "shape_5003"
                      }
                    },
                    "consumingParameterId" : "$listItem"
                  }
                }
              }
            }
          ]
        },
        {
          "title" : "Change shape to Number",
          "commandsJson" : [
            {
              "AddShape" : {
                "shapeId" : "shape_5005",
                "baseShapeId" : "$number",
                "name" : ""
              }
            },
            {
              "SetParameterShape" : {
                "shapeDescriptor" : {
                  "ProviderInShape" : {
                    "shapeId" : "shape_4",
                    "providerDescriptor" : {
                      "ShapeProvider" : {
                        "shapeId" : "shape_5005"
                      }
                    },
                    "consumingParameterId" : "$listItem"
                  }
                }
              }
            }
          ]
        }
      ],
      "preview" : [
        "Vector((List(),ExampleObject(List(),Some(shape_7),List(List(JsonObjectKey(age)), List(JsonObjectKey(cities)), List(JsonObjectKey(firstName)), List(JsonObjectKey(lastName))),List(),List(),Set())), (List(JsonObjectKey(age)),ExamplePrimitive(List(JsonObjectKey(age)),$number,Some(shape_1),26,Set())), (List(JsonObjectKey(cities)),ExampleArray(List(JsonObjectKey(cities)),Some(shape_4),Some(shape_3),Vector(List(JsonObjectKey(cities), JsonArrayItem(0)), List(JsonObjectKey(cities), JsonArrayItem(1)), List(JsonObjectKey(cities), JsonArrayItem(2)), List(JsonObjectKey(cities), JsonArrayItem(3)), List(JsonObjectKey(cities), JsonArrayItem(4))),Set())), (List(JsonObjectKey(cities), JsonArrayItem(0)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(0)),$string,Some(shape_3),\"San Fransisco\",Set())), (List(JsonObjectKey(cities), JsonArrayItem(1)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(1)),$number,None,17584,Set())), (List(JsonObjectKey(cities), JsonArrayItem(2)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(2)),$string,Some(shape_3),\"Boston\",Set())), (List(JsonObjectKey(cities), JsonArrayItem(3)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(3)),$number,None,16573,Set(UnmatchedShape(List(JsonObjectKey(cities), JsonArrayItem(3)),ShapeTrail(shape_7,List(ObjectFieldTrail(field_1,shape_4), ListItemTrail(shape_4,shape_3))))))), (List(JsonObjectKey(cities), JsonArrayItem(4)),ExamplePrimitive(List(JsonObjectKey(cities), JsonArrayItem(4)),$string,Some(shape_3),\"Chicago\",Set())), (List(JsonObjectKey(firstName)),ExamplePrimitive(List(JsonObjectKey(firstName)),$string,Some(shape_5),\"Aidan\",Set())), (List(JsonObjectKey(lastName)),ExamplePrimitive(List(JsonObjectKey(lastName)),$string,Some(shape_6),\"C\",Set())))",
        "Vector((List(JsonObjectKey(age)),KnownExampleField(List(JsonObjectKey(age)),age,field_0,shape_1,26,Set())), (List(JsonObjectKey(cities)),KnownExampleField(List(JsonObjectKey(cities)),cities,field_1,shape_4,[\n  \"San Fransisco\",\n  17584,\n  \"Boston\",\n  16573,\n  \"Chicago\"\n],Set())), (List(JsonObjectKey(firstName)),KnownExampleField(List(JsonObjectKey(firstName)),firstName,field_2,shape_5,\"Aidan\",Set())), (List(JsonObjectKey(lastName)),KnownExampleField(List(JsonObjectKey(lastName)),lastName,field_3,shape_6,\"C\",Set())))",
        "Vector((List(JsonObjectKey(cities), JsonArrayItem(0)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(0)),0,\"San Fransisco\",Set())), (List(JsonObjectKey(cities), JsonArrayItem(1)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(1)),1,17584,Set())), (List(JsonObjectKey(cities), JsonArrayItem(2)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(2)),2,\"Boston\",Set())), (List(JsonObjectKey(cities), JsonArrayItem(3)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(3)),3,16573,Set(UnmatchedShape(List(JsonObjectKey(cities), JsonArrayItem(3)),ShapeTrail(shape_7,List(ObjectFieldTrail(field_1,shape_4), ListItemTrail(shape_4,shape_3))))))), (List(JsonObjectKey(cities), JsonArrayItem(4)),ExampleItem(List(JsonObjectKey(cities), JsonArrayItem(4)),4,\"Chicago\",Set())))",
        "Vector((shape_1,SpecPrimitive(shape_1,$number,RenderName(List(NameComponent(Number,NumberColor,,None,None))),Set())), (shape_3,SpecPrimitive(shape_3,$string,RenderName(List(NameComponent(String,StringColor,,None,None))),Set(UnmatchedShape(List(JsonObjectKey(cities), JsonArrayItem(3)),ShapeTrail(shape_7,List(ObjectFieldTrail(field_1,shape_4), ListItemTrail(shape_4,shape_3))))))), (shape_4,SpecArray(shape_4,shape_3,RenderName(List(NameComponent(List of ,ListColor,,Some(shape_3),Some(shape_3)))),Set(UnmatchedShape(List(JsonObjectKey(cities), JsonArrayItem(3)),ShapeTrail(shape_7,List(ObjectFieldTrail(field_1,shape_4), ListItemTrail(shape_4,shape_3))))))), (shape_5,SpecPrimitive(shape_5,$string,RenderName(List(NameComponent(String,StringColor,,None,None))),Set())), (shape_6,SpecPrimitive(shape_6,$string,RenderName(List(NameComponent(String,StringColor,,None,None))),Set())), (shape_7,SpecObject(shape_7,List(SpecField(age,field_0,shape_1,Set()), SpecField(cities,field_1,shape_4,Set()), SpecField(firstName,field_2,shape_5,Set()), SpecField(lastName,field_3,shape_6,Set())),Set())))"
      ]
    }
  ]
}